(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed46e8b8"],{"0ad8":function(e,t,r){"use strict";var s=r("2026"),a=r.n(s);a.a},2026:function(e,t,r){},"3d01":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("el-row",{staticClass:"header"},[s("el-col",{staticStyle:{height:"50px"},attrs:{span:16}},[s("img",{staticClass:"logo",staticStyle:{cursor:"pointer"},attrs:{src:r("cac3"),alt:""},on:{click:e.back}})]),s("el-col",{attrs:{span:4}},[s("i",{staticClass:"el-icon-user"}),e.hasLogin?s("span",[e._v(e._s(e.userInfo.name))]):e._e(),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.hasLogin,expression:"!hasLogin"}],on:{click:function(t){return e.login(1)}}},[e._v("登录")]),e._v("/"),e.hasLogin?e._e():s("span",{on:{click:function(t){return e.login(0)}}},[e._v("注册")]),e.hasLogin?s("span",{on:{click:e.loginout}},[e._v("退出")]):e._e()]),s("el-col",{attrs:{span:2}},[s("i",{staticClass:"el-icon-shopping-cart-full"}),s("span",{on:{click:e.goShopCart}},[e._v("购物车")])]),s("el-col",{attrs:{span:2}},[s("i",{staticClass:"el-icon-goods"}),s("span",{on:{click:e.goMyOrder}},[e._v("订单")])])],1),s("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#333","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.navGender,(function(t,r){return s("el-submenu",{key:r,ref:t.id,refInFor:!0,attrs:{index:r.toString()}},[s("template",{slot:"title"},[e._v(e._s(t.name))]),e._l(e.navSeries,(function(t,a){return s("div",{key:a,staticClass:"subTitle"},[s("el-menu-item",{ref:t.id,refInFor:!0,attrs:{index:r+"-"+a},on:{click:function(t){return e.navSelect(r,a)}}},[e._v(e._s(t.name))])],1)}))],2)})),1),s("el-dialog",{staticClass:"dialog",attrs:{title:e.dialogTitle,visible:e.registerVisible,center:"",width:"35%"},on:{"update:visible":function(t){e.registerVisible=t}}},[1===e.dialogStatus?s("el-form",{attrs:{mode:e.loginForm,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"用户名",prop:"name"}},[s("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名",maxlength:"30"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码",maxlength:"30"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1):s("el-form",{attrs:{mode:e.registerFrom,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"用户名",prop:"name"}},[s("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名",maxlength:"30"},model:{value:e.registerFrom.name,callback:function(t){e.$set(e.registerFrom,"name",t)},expression:"registerFrom.name"}})],1),s("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[s("el-input",{staticClass:"input",attrs:{placeholder:"请输入手机号码",maxlength:"30"},model:{value:e.registerFrom.phone,callback:function(t){e.$set(e.registerFrom,"phone",t)},expression:"registerFrom.phone"}})],1),s("el-form-item",{attrs:{label:"性别",prop:"gender"}},[s("el-radio-group",{model:{value:e.registerFrom.gender,callback:function(t){e.$set(e.registerFrom,"gender",t)},expression:"registerFrom.gender"}},[s("el-radio",{attrs:{label:"0"}},[e._v("女")]),s("el-radio",{attrs:{label:"1"}},[e._v("男")])],1)],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码",maxlength:"30"},model:{value:e.registerFrom.password,callback:function(t){e.$set(e.registerFrom,"password",t)},expression:"registerFrom.password"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{staticClass:"input",attrs:{placeholder:"请输入邮箱",maxlength:"30"},model:{value:e.registerFrom.email,callback:function(t){e.$set(e.registerFrom,"email",t)},expression:"registerFrom.email"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.registerVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.dialogConfirm}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("b0c0"),r("498a"),r("c40e")),o=r("c24f"),i=r("0e0b"),l=r.n(i),c={name:"navBar",data:function(){return{navGender:[],navSeries:[],banner:[],dialogStatus:1,dialogTitle:"登录",registerVisible:!1,registerFrom:{name:"",phone:"",gender:"0",password:"",email:""},loginForm:{name:"",password:""},hasLogin:!1,userInfo:{},hotGoods:[],newGoods:[]}},created:function(){this.getCategoryGender_(),this.getCategorySeries_(),localStorage.getItem("userInfo")&&(this.hasLogin=!0,this.userInfo=JSON.parse(localStorage.getItem("userInfo")))},methods:{goShopCart:function(){this.userInfo.id?this.$router.push("/shoppingCart"):this.$message.info("请先登录")},goMyOrder:function(){this.userInfo.id?this.$router.push("/myOrder"):this.$message.info("请先登录")},back:function(){this.$router.push("/")},navSelect:function(e,t){"/goodsList"==this.$route.path?this.$emit("changeList",{gid:this.navGender[e].gid,sid:this.navSeries[t].sid}):this.$router.push({path:"/goodsList",query:{gid:this.navGender[e].gid,sid:this.navSeries[t].sid}})},getCategoryGender_:function(){var e=this;Object(n["b"])().then((function(t){e.navGender=t.data.data}))},getCategorySeries_:function(){var e=this;Object(n["c"])().then((function(t){e.navSeries=t.data.data}))},goUser:function(){this.$router.push("/user")},login:function(e){this.dialogTitle=0==e?"注册":"登录",this.dialogStatus=e,this.registerVisible=!0},dialogConfirm:function(){var e=this;if(0==this.dialogStatus){for(var t in this.registerFrom)if(""==l.a.trim(this.registerFrom[t]))return void this.$message.error("请检查输入是否完整");if(!l.a.isTel(this.registerFrom.phone))return void this.$message.error("请输出正确手机号");if(!l.a.isEmail(this.registerFrom.email))return void this.$message.error("请输出正确邮箱");Object(o["b"])(this.registerFrom).then((function(t){0==t.data.code?(e.$message.success("注册成功, 请登录"),e.registerFrom={name:"",phone:"",gender:"0",password:"",email:""},e.dialogStatus=1):2==t.data.code?e.$confirm("该手机号已被注册, 是否跳转登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.registerFrom={name:"",phone:"",gender:"0",password:"",email:""},e.dialogStatus=1})):e.$message.error(t.data.msg)}))}else{if(""==l.a.trim(this.loginForm.name))return void this.$message.error("请输入用户名");if(""==l.a.trim(this.loginForm.password))return void this.$message.error("请输入密码");Object(o["a"])(this.loginForm).then((function(t){console.log(t),2==t.data.code?e.$confirm("用户不存在, 是否跳转注册?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.loginForm={name:"",password:""},e.dialogStatus=0})):0==t.data.code?(e.loginForm={name:"",password:""},e.$message.success("登陆成功"),e.hasLogin=!0,e.userInfo=t.data.data,e.registerVisible=!1,localStorage.setItem("userInfo",JSON.stringify(t.data.data))):e.$message.error(t.data.msg)}))}},loginout:function(){this.hasLogin=!1,this.userInfo={},localStorage.removeItem("userInfo"),this.$router.push("/")}}},u=c,d=(r("0ad8"),r("2877")),m=Object(d["a"])(u,s,a,!1,null,"0912a901",null);t["a"]=m.exports},"498a":function(e,t,r){"use strict";var s=r("23e7"),a=r("58a8").trim,n=r("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var s=r("1d80"),a=r("5899"),n="["+a+"]",o=RegExp("^"+n+n+"*"),i=RegExp(n+n+"*$"),l=function(e){return function(t){var r=String(s(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5ce3":function(e,t,r){"use strict";var s=r("f07d"),a=r.n(s);a.a},b0c0:function(e,t,r){var s=r("83ab"),a=r("9bf2").f,n=Function.prototype,o=n.toString,i=/^\s*function ([^ (]*)/,l="name";s&&!(l in n)&&a(n,l,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},c24f:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return c}));var s=r("bc3a"),a=r.n(s),n=(r("4328"),"http://localhost:3000/users/");function o(e){return a.a.post(n+"register",e)}function i(e){return a.a.post(n+"login",e)}function l(e){return a.a.post(n+"updateUser",e)}function c(e){return a.a.post(n+"resetPwd",e)}},c8d2:function(e,t,r){var s=r("d039"),a=r("5899"),n="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||n[e]()!=n||a[e].name!==e}))}},e527:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("navBar"),r("div",{staticClass:"content"},[r("el-table",{staticClass:"table",staticStyle:{width:"80%"},attrs:{data:e.orderList}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),r("el-table-column",{attrs:{prop:"order_time",label:"下单时间"}}),r("el-table-column",{attrs:{prop:"order_name",label:"收件人姓名"}}),r("el-table-column",{attrs:{prop:"phone",label:"收件人电话"}}),r("el-table-column",{attrs:{prop:"address",label:"收件人地址"}}),r("el-table-column",{attrs:{prop:"is_finish",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[r("el-tag",{directives:[{name:"show",rawName:"v-show",value:0==s.is_finish,expression:"row.is_finish==0"}]},[e._v("进行中")]),r("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==s.is_finish,expression:"row.is_finish==1"}],attrs:{type:"success"}},[e._v("已完成")]),r("el-tag",{directives:[{name:"show",rawName:"v-show",value:2==s.is_finish,expression:"row.is_finish==2"}],attrs:{type:"danger"}},[e._v("已取消")])]}}])})],1)],1)],1)},a=[],n=r("3d01"),o=r("f8b7"),i={components:{navBar:n["a"]},data:function(){return{orderList:[]}},created:function(){JSON.parse(localStorage.getItem("userInfo"))?this.getOrder_():this.$message.info("请先登录")},methods:{aaa:function(e){console.log(e)},getOrder_:function(){var e=this;Object(o["b"])({uid:JSON.parse(localStorage.getItem("userInfo")).id}).then((function(t){0==t.data.code?e.orderList=t.data.data:e.$message.error(t.data.msg)}))}}},l=i,c=(r("5ce3"),r("2877")),u=Object(c["a"])(l,s,a,!1,null,"0d617f52",null);t["default"]=u.exports},f07d:function(e,t,r){},f8b7:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var s=r("bc3a"),a=r.n(s),n="http://localhost:3000/users/";function o(e){return a.a.post(n+"buy",e)}function i(e){return a.a.post(n+"getOrder",e)}}}]);
//# sourceMappingURL=chunk-ed46e8b8.2454c3fc.js.map